{"version":3,"sources":["../../src/sdk/context.ts"],"sourcesContent":["import { ErrorSubject, Service } from './common/index.js';\nimport { NetworkService } from './network/index.js';\nimport { WalletService } from './wallet/index.js';\n\nexport class Context {\n  readonly error$ = new ErrorSubject();\n\n  private readonly attached: Service[] = [];\n\n  constructor(\n    readonly services: {\n      networkService: NetworkService;\n      walletService: WalletService;\n    },\n  ) {\n    const items = [...Object.values(services)];\n\n    for (const item of items) {\n      this.attach(item);\n    }\n  }\n\n  attach<T extends Service>(service: T): void {\n    this.attached.push(service);\n    service.init(this);\n  }\n\n  destroy(): void {\n    for (const attached of this.attached) {\n      attached.destroy();\n    }\n  }\n}\n"],"mappings":";;;;;AAIO,IAAM,UAAN,MAAc;AAAA,EAKnB,YACW,UAIT;AAJS;AALX,SAAS,SAAS,IAAI,aAAa;AAEnC,SAAiB,WAAsB,CAAC;AAQtC,UAAM,QAAQ,CAAC,GAAG,OAAO,OAAO,QAAQ,CAAC;AAEzC,eAAW,QAAQ,OAAO;AACxB,WAAK,OAAO,IAAI;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,OAA0B,SAAkB;AAC1C,SAAK,SAAS,KAAK,OAAO;AAC1B,YAAQ,KAAK,IAAI;AAAA,EACnB;AAAA,EAEA,UAAgB;AACd,eAAW,YAAY,KAAK,UAAU;AACpC,eAAS,QAAQ;AAAA,IACnB;AAAA,EACF;AACF;","names":[]}
{"version":3,"sources":["../../src/sdk/wallet/providers/dynamic.wallet-provider.ts"],"sourcesContent":["import { NetworkNames, prepareNetworkName } from '../../network/index.js';\nimport { prepareAddress, UniqueSubject } from '../../common/index.js';\nimport { MessagePayload, WalletProvider } from './interfaces.js';\nimport { Address, Hash, Hex, TransactionRequest } from 'viem';\n\nexport abstract class DynamicWalletProvider implements WalletProvider {\n  readonly address$ = new UniqueSubject<string>();\n  readonly networkName$ = new UniqueSubject<NetworkNames>();\n\n  protected constructor(readonly type: string) {\n    //\n  }\n\n  get address(): string {\n    return this.address$.value;\n  }\n\n  get networkName(): NetworkNames {\n    return this.networkName$.value;\n  }\n\n  abstract signMessage(message: any, validatorAddress?: Address, factoryAddress?: Address, initCode?: Hex): Promise<string>;\n\n  abstract signUserOp(message: Hex): Promise<string>;\n\n  abstract signTypedData(msg: MessagePayload, validatorAddress?: Address, factoryAddress?: Address, initCode?: Hex): Promise<string>\n\n  protected setAddress(address: string): void {\n    this.address$.next(prepareAddress(address));\n  }\n\n  protected setNetworkName(networkNameOrChainId: string | number): void {\n    this.networkName$.next(prepareNetworkName(networkNameOrChainId));\n  }\n\n  abstract eth_requestAccounts(address?: string): Promise<string[]>;\n\n  abstract eth_accounts(address?: string): Promise<string[]>;\n\n  abstract eth_sendTransaction(transaction: TransactionRequest): Promise<Hash>;\n\n  abstract eth_signTransaction(transaction: TransactionRequest): Promise<string>;\n}\n"],"mappings":";;;;;;;;;;;AAKO,IAAe,wBAAf,MAA+D;AAAA,EAI1D,YAAqB,MAAc;AAAd;AAAA,EAE/B;AAAA,EALS,WAAW,IAAI,cAAsB;AAAA,EACrC,eAAe,IAAI,cAA4B;AAAA,EAMxD,IAAI,UAAkB;AACpB,WAAO,KAAK,SAAS;AAAA,EACvB;AAAA,EAEA,IAAI,cAA4B;AAC9B,WAAO,KAAK,aAAa;AAAA,EAC3B;AAAA,EAQU,WAAW,SAAuB;AAC1C,SAAK,SAAS,KAAK,eAAe,OAAO,CAAC;AAAA,EAC5C;AAAA,EAEU,eAAe,sBAA6C;AACpE,SAAK,aAAa,KAAK,mBAAmB,oBAAoB,CAAC;AAAA,EACjE;AASF;","names":[]}
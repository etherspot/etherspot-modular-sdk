{"version":3,"sources":["../../src/sdk/common/rxjs/error.subject.ts"],"sourcesContent":["import { Subject } from 'rxjs';\n\n/**\n * @ignore\n */\nexport class ErrorSubject extends Subject<any> {\n  complete(): void {\n    //\n  }\n\n  next(value?: any): void {\n    if (value) {\n      super.next(value);\n    }\n  }\n\n  wrap<T>(func: () => T): T {\n    let result: any;\n\n    try {\n      result = func();\n\n      if (result instanceof Promise) {\n        result = result.catch((err) => {\n          this.next(err);\n          return null;\n        });\n      }\n    } catch (err) {\n      this.next(err);\n      result = null;\n    }\n\n    return result;\n  }\n\n  catch<T>(func: () => T, onComplete?: () => any): void {\n    const fireOnComplete = () => {\n      if (onComplete) {\n        onComplete();\n        onComplete = null;\n      }\n    };\n\n    try {\n      const promise = func();\n\n      if (promise instanceof Promise) {\n        promise\n          .catch((err) => {\n            this.next(err);\n          })\n          .finally(() => {\n            fireOnComplete();\n          });\n        return;\n      }\n\n      fireOnComplete();\n    } catch (err) {\n      this.next(err);\n      fireOnComplete();\n    }\n  }\n}\n"],"mappings":";AAAA,SAAS,eAAe;AAKjB,IAAM,eAAN,cAA2B,QAAa;AAAA,EAC7C,WAAiB;AAAA,EAEjB;AAAA,EAEA,KAAK,OAAmB;AACtB,QAAI,OAAO;AACT,YAAM,KAAK,KAAK;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,KAAQ,MAAkB;AACxB,QAAI;AAEJ,QAAI;AACF,eAAS,KAAK;AAEd,UAAI,kBAAkB,SAAS;AAC7B,iBAAS,OAAO,MAAM,CAAC,QAAQ;AAC7B,eAAK,KAAK,GAAG;AACb,iBAAO;AAAA,QACT,CAAC;AAAA,MACH;AAAA,IACF,SAAS,KAAK;AACZ,WAAK,KAAK,GAAG;AACb,eAAS;AAAA,IACX;AAEA,WAAO;AAAA,EACT;AAAA,EAEA,MAAS,MAAe,YAA8B;AACpD,UAAM,iBAAiB,MAAM;AAC3B,UAAI,YAAY;AACd,mBAAW;AACX,qBAAa;AAAA,MACf;AAAA,IACF;AAEA,QAAI;AACF,YAAM,UAAU,KAAK;AAErB,UAAI,mBAAmB,SAAS;AAC9B,gBACG,MAAM,CAAC,QAAQ;AACd,eAAK,KAAK,GAAG;AAAA,QACf,CAAC,EACA,QAAQ,MAAM;AACb,yBAAe;AAAA,QACjB,CAAC;AACH;AAAA,MACF;AAEA,qBAAe;AAAA,IACjB,SAAS,KAAK;AACZ,WAAK,KAAK,GAAG;AACb,qBAAe;AAAA,IACjB;AAAA,EACF;AACF;","names":[]}